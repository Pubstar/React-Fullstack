{"ast":null,"code":"import React from'react';import'./login.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(_ref){var setCurrentUser=_ref.setCurrentUser,currentUser=_ref.currentUser;var username,password;var navigate=useNavigate();function handleLogin(e){e.preventDefault();fetch(process.env.REACT_APP_API_KEY+\"/api/login\",{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({username:username,password:password})}).then(function(response){return response.json().then(function(res){if(res.username){setCurrentUser(res);navigate('/');}});}).catch(function(err){console.log(\"No user found\");});e.target.username.value=\"\";e.target.password.value=\"\";}function handleUsername(e){username=e.target.value;}function handlePassword(e){password=e.target.value;}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,action:\"\",method:\"post\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleUsername,type:\"text\",name:\"username\",id:\"username\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handlePassword,type:\"password\",name:\"password\",id:\"password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]})]})});};export default Login;","map":{"version":3,"names":["React","useNavigate","Login","setCurrentUser","currentUser","username","password","navigate","handleLogin","e","preventDefault","fetch","process","env","REACT_APP_API_KEY","method","headers","body","JSON","stringify","then","response","json","res","catch","err","console","log","target","value","handleUsername","handlePassword"],"sources":["D:/GitHub/React-Fullstack/React-Fullstack/Client/src/components/login/Login.jsx"],"sourcesContent":["import React from 'react';\r\nimport './login.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Login = ({ setCurrentUser, currentUser }) => {\r\n\r\n    let username, password;\r\n    const navigate = useNavigate();\r\n\r\n    function handleLogin(e) {\r\n        e.preventDefault();\r\n\r\n        fetch(process.env.REACT_APP_API_KEY + \"/api/login\", {\r\n            method: \"POST\",\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ username, password })\r\n        }).then(response => response.json().then(res => {\r\n            if (res.username) {\r\n                setCurrentUser(res);\r\n                navigate('/');\r\n            }\r\n        })).catch(err => {\r\n            console.log(\"No user found\");\r\n        })\r\n        e.target.username.value = \"\";\r\n        e.target.password.value = \"\";\r\n    }\r\n\r\n    function handleUsername(e) {\r\n        username = e.target.value;\r\n    }\r\n\r\n    function handlePassword(e) {\r\n        password = e.target.value;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <h1>Login</h1>\r\n                <form onSubmit={handleLogin} action=\"\" method=\"post\">\r\n                    <label htmlFor=\"username\">Username</label>\r\n                    <input onChange={handleUsername} type=\"text\" name=\"username\" id=\"username\" />\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input onChange={handlePassword} type=\"password\" name=\"password\" id=\"password\" />\r\n                    <button type=\"submit\">Login</button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAO,aAAa,CACpB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,6IAE/C,GAAMC,MAAK,CAAG,QAARA,MAAK,MAAwC,IAAlCC,eAAc,MAAdA,cAAc,CAAEC,WAAW,MAAXA,WAAW,CAExC,GAAIC,SAAQ,CAAEC,QAAQ,CACtB,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAE9B,QAASO,YAAW,CAACC,CAAC,CAAE,CACpBA,CAAC,CAACC,cAAc,EAAE,CAElBC,KAAK,CAACC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAAG,YAAY,CAAE,CAChDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEd,QAAQ,CAARA,QAAQ,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAC/C,CAAC,CAAC,CAACc,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,CAACF,IAAI,CAAC,SAAAG,GAAG,CAAI,CAC5C,GAAIA,GAAG,CAAClB,QAAQ,CAAE,CACdF,cAAc,CAACoB,GAAG,CAAC,CACnBhB,QAAQ,CAAC,GAAG,CAAC,CACjB,CACJ,CAAC,CAAC,GAAC,CAACiB,KAAK,CAAC,SAAAC,GAAG,CAAI,CACbC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAChC,CAAC,CAAC,CACFlB,CAAC,CAACmB,MAAM,CAACvB,QAAQ,CAACwB,KAAK,CAAG,EAAE,CAC5BpB,CAAC,CAACmB,MAAM,CAACtB,QAAQ,CAACuB,KAAK,CAAG,EAAE,CAChC,CAEA,QAASC,eAAc,CAACrB,CAAC,CAAE,CACvBJ,QAAQ,CAAGI,CAAC,CAACmB,MAAM,CAACC,KAAK,CAC7B,CAEA,QAASE,eAAc,CAACtB,CAAC,CAAE,CACvBH,QAAQ,CAAGG,CAAC,CAACmB,MAAM,CAACC,KAAK,CAC7B,CAEA,mBACI,sCACI,aAAK,SAAS,CAAC,WAAW,wBACtB,6BAAc,cACd,cAAM,QAAQ,CAAErB,WAAY,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,MAAM,wBAChD,cAAO,OAAO,CAAC,UAAU,sBAAiB,cAC1C,cAAO,QAAQ,CAAEsB,cAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,UAAU,EAAG,cAC7E,cAAO,OAAO,CAAC,UAAU,sBAAiB,cAC1C,cAAO,QAAQ,CAAEC,cAAe,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,UAAU,EAAG,cACjF,eAAQ,IAAI,CAAC,QAAQ,mBAAe,GACjC,GACL,EACP,CAEX,CAAC,CAED,cAAe7B,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}